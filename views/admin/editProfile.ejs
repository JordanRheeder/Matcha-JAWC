<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %></title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <link rel="shortcut icon" type="image/jpg" href="../../outputDir/favicon.ico"/>
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>
    </style>
  </head>
  <body>
      <!-- Nav starts -->
        <%- include('../includes/nav.ejs') %>
            <header id="header" class="alt">
                <div style='position:absolute;left:32px;top:32px'>
                        </div>
                          <p>
                            <form method="POST" enctype="multipart/form-data" id="submitImage"><br/>   
                              <h3> Edit Profile Image </h3><br/>             
                              <div class="file">
                                <input class="file" accept="image/*" type="file" name="file" id="file" style='align-self: center'>
                              </div>
                              <input class = 'button is-danger is-light' type="submit" id="submit"
                                name="submit" value="Submit" /><br>
                            </form><br/>
                          </p>
                          <script>
                            document.getElementById("submit").onclick = function (event) {
                                event.preventDefault();
                                
                                var file = document.getElementById("file").files[0];

                                var reader = new FileReader;
                                reader.readAsDataURL(file);
                                // image = reader.result;
                                reader.onload = function () {
                                    console.log(reader.result);
                                    axios({
                                        method: 'post',
                                        url: '/uploadProfilePicture',
                                        data: {
                                            image: reader.result,
                                        }
                                    });
                                    alert("Uploaded new profile picture.");
                                };
                                reader.onerror = function (error) {
                                    console.log('Error: ', error);
                                    alert("Failed to upload new profile picture.");
                                };
                            }
                        </script><br/>
                </div>
                <div>
                    <a class="button" href='/editprofile'>Profile</a>  
                    <a class="button" href='/editsettings'>Settings</a>  
                </div>
                <div class="inner">
                    <div class="container" style="text-align:center">  
                            <div class='form'> 
                            <form action="/EditAccount" method="POST"><br/>   
                                <h1> Edit Profile </h1><br/>             
                                
                                <input class="box" type="text" name="bio" id="bio" 
                                placeholder="Biography"><br/> 
                                
                                <input class="box" type="text" name="tags" 
                                id="tags" placeholder="Interests: #Geek, #Piercing, etc..." ><br/>
                                
                                <input class="box" type="text" name="firstname" id="firstname" 
                                placeholder="First Name"   /><br> 
                                                    
                                <input class="box" type="text" name="lastname" id="lastname" 
                                placeholder="Surname"   /><br> 
                                                    
                                <input class="box" type="email" name="email" id="email" 
                                placeholder="E-Mail"  /><br> 
                                
                                <input class="box" type="text" name="age" id="age" 
                                placeholder="Age"   /><br> 
                                                    
                                <input class="box" type="text" name="username" id="username" 
                                placeholder="Username"   /><br> 
            
                                <input class="box" type="password" name="password" 
                                id="password" placeholder="Password" required/>
                      <h2>Gender</h2>
                                <ul>
                        <div>
                          <li>
                            <input type="radio" id="f-option" name="gender" value='Male'>
                            <label for="f-option" value='Male'>Male</label>
                            <input type="radio" id="s-option" name="gender" value='Female'>
                            <label for="s-option" value='Female'>Female</label>
                            <input type="radio" id="t-option" name="gender" value='Other'>
                            <label for="t-option" value='Other'>Other</label>
                          </li>
                        </div>
                                </ul>
                      <h2>Sexual Interest</h2>
                                <ul>
                        <div>
                          <li>
                            <input type="radio" id="x-option" name="interest" value='Male'>
                            <label for="x-option" value='Male'>Male</label>
                            <input type="radio" id="y-option" name="interest" value='Female'>
                            <label for="y-option" value='Female'>Female</label>
                            <input type="radio" id="z-option" name="interest" value='Both'>
                            <label for="z-option" value='Both'>Both</label>
                          </li>
                        </div>
                                </ul>
                                <input class='button is-danger is-light' type="submit" id="submitDetails" name="submitDetails" value="Submit" /><br>        
                                </form>                               
                        </div>                
                    </div>
                </div>
            </header>
    <!-- Wrapper -->
        <%- include('../includes/footer.ejs') %>
    <!-- Scripts -->
    <%- include('../includes/end.ejs') %>







